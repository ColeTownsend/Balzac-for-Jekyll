// retina.js, a high-resolution image swapper (http://retinajs.com), v0.0.2
(function(){function e(e){this.path=e;var t=this.path.split("."),n=t.slice(0,t.length-1).join("."),r=t[t.length-1];this.at_2x_path=n+"@2x."+r}function t(t){this.el=t,this.path=new e(this.el.getAttribute("src"));var n=this;this.path.check_2x_variant(function(e){e&&n.swap()})}var n=typeof exports=="undefined"?window:exports;n.RetinaImagePath=e,e.confirmed_paths=[],e.prototype.is_external=function(){return!!this.path.match(/^https?\:/i)&&!this.path.match("//"+document.domain)},e.prototype.check_2x_variant=function(t){var n,r=this;if(this.is_external())return t(!1);if(this.at_2x_path in e.confirmed_paths)return t(!0);n=new XMLHttpRequest,n.open("HEAD",this.at_2x_path),n.onreadystatechange=function(){return n.readyState!=4?t(!1):n.status>=200&&n.status<=399?(e.confirmed_paths.push(r.at_2x_path),t(!0)):t(!1)},n.send()},n.RetinaImage=t,t.prototype.swap=function(e){function t(){n.el.complete?(n.el.setAttribute("width",n.el.offsetWidth),n.el.setAttribute("height",n.el.offsetHeight),n.el.setAttribute("src",e)):setTimeout(t,5)}typeof e=="undefined"&&(e=this.path.at_2x_path);var n=this;t()},n.devicePixelRatio>1&&(window.onload=function(){var e=document.getElementsByTagName("img"),n=[],r,i;for(r=0;r<e.length;r++)i=e[r],n.push(new t(i))})})();